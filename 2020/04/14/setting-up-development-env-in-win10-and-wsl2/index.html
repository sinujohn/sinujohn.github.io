<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="UTF-8">
<meta http-equiv="X-UA-Compatible" content="ie=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<meta name="author" content="Sinu John ">
<meta name="description" content="Flashback Long back, I was a hardcore Linux enthusiast having been brain washed by the FSF folks. I have long been out of that hate mindset where you are supposed to hate everything which is not free (FSF Free).
Still I love the *nix env and it is one of the best ways a developer can be productive. I had used Mac in the past and the developer friendliness that ecosystem offers is top notch." />
<meta name="keywords" content=", windows, wsl, developer" />
<meta name="robots" content="noodp" />
<meta name="theme-color" content="" />
<link rel="canonical" href="https://sinujohn.github.io/2020/04/14/setting-up-development-env-in-win10-and-wsl2/" />


    <title>
        
            Setting up Development Env in Win10 and WSL2 :: Sinu John  ‚Äî Cogito, ergo sum
        
    </title>



<link href="https://cdnjs.cloudflare.com/ajax/libs/flag-icon-css/3.2.1/css/flag-icon.min.css" rel="stylesheet"
    type="text/css">



<link rel="stylesheet" href="/main.min.753fac8f03736f0edc9be411eb20cee875dd7bb8e73c8155fbf6a629c863f4ca.css">




    <link rel="apple-touch-icon" sizes="180x180" href="/apple-touch-icon.png">
    <link rel="icon" type="image/png" sizes="32x32" href="/favicon-32x32.png">
    <link rel="icon" type="image/png" sizes="16x16" href="/favicon-16x16.png">
    <link rel="manifest" href="/site.webmanifest">
    <link rel="mask-icon" href="/safari-pinned-tab.svg" color="#252627">
    <link rel="shortcut icon" href="/favicon.ico">
    <meta name="msapplication-TileColor" content="#252627">
    <meta name="theme-color" content="#252627">



<meta itemprop="name" content="Setting up Development Env in Win10 and WSL2">
<meta itemprop="description" content="Flashback Long back, I was a hardcore Linux enthusiast having been brain washed by the FSF folks. I have long been out of that hate mindset where you are supposed to hate everything which is not free (FSF Free).
Still I love the *nix env and it is one of the best ways a developer can be productive. I had used Mac in the past and the developer friendliness that ecosystem offers is top notch.">
<meta itemprop="datePublished" content="2020-04-14T14:37:20&#43;05:30" />
<meta itemprop="dateModified" content="2020-04-14T14:37:20&#43;05:30" />
<meta itemprop="wordCount" content="734">
<meta itemprop="image" content="https://sinujohn.github.io/"/>



<meta itemprop="keywords" content="windows,wsl,developer," />
<meta name="twitter:card" content="summary_large_image"/>
<meta name="twitter:image" content="https://sinujohn.github.io/"/>

<meta name="twitter:title" content="Setting up Development Env in Win10 and WSL2"/>
<meta name="twitter:description" content="Flashback Long back, I was a hardcore Linux enthusiast having been brain washed by the FSF folks. I have long been out of that hate mindset where you are supposed to hate everything which is not free (FSF Free).
Still I love the *nix env and it is one of the best ways a developer can be productive. I had used Mac in the past and the developer friendliness that ecosystem offers is top notch."/>





    <meta property="article:section" content="DevLife" />



    <meta property="article:published_time" content="2020-04-14 14:37:20 &#43;0530 IST" />








    </head>

    <body class="dark-theme">
        <div class="container">
            <header class="header">
    <span class="header__inner">
        <a href="/" style="text-decoration: none;">
    <div class="logo">
        
            <span class="logo__mark">></span>
            <span class="logo__text">$ cd /home/</span>
            <span class="logo__cursor" style=
                  "
                   
                   ">
            </span>
        
    </div>
</a>


        <span class="header__right">
            
                <nav class="menu">
    <ul class="menu__inner"><li><a href="https://sinujohn.github.io/post/">Posts</a></li>
    </ul>
</nav>

                <span class="menu-trigger">
                    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24">
                        <path d="M0 0h24v24H0z" fill="none"/>
                        <path d="M3 18h18v-2H3v2zm0-5h18v-2H3v2zm0-7v2h18V6H3z"/>
                    </svg>
                </span>
            

            <span class="theme-toggle unselectable"><svg class="theme-toggler" width="24" height="24" viewBox="0 0 48 48" fill="none" xmlns="http://www.w3.org/2000/svg">
  <path d="M22 41C32.4934 41 41 32.4934 41 22C41 11.5066 32.4934 3 22
  3C11.5066 3 3 11.5066 3 22C3 32.4934 11.5066 41 22 41ZM7 22C7
  13.7157 13.7157 7 22 7V37C13.7157 37 7 30.2843 7 22Z"/>
</svg>
</span>
        </span>
    </span>
</header>


            <div class="content">
                
    <main class="post">

        <div class="post-info">
            
            </p>
        </div>

        <article>
            <h2 class="post-title"><a href="https://sinujohn.github.io/2020/04/14/setting-up-development-env-in-win10-and-wsl2/">Setting up Development Env in Win10 and WSL2</a></h2>

            

            <div class="post-content">
                <h1 id="flashback">Flashback</h1>
<p>Long back, I was a hardcore Linux enthusiast having been brain washed by the FSF folks. I have long been out of that hate mindset where you are supposed to hate everything which is not free (FSF Free).</p>
<p>Still I love the *nix env and it is one of the best ways a developer can be productive. I had used Mac in the past and the developer friendliness that ecosystem offers is top notch. No wonder developers around the world flash their macs - even though some use it only as a status symbol while doing presentations üòâ</p>
<p>But MS has lately been embracing Open Source and they have made a commitment to make Windows machine a developer&rsquo;s machine by bringing the Linux goodness with the WSL2. I have been using the WSL2 for around an year now and its awesome!</p>
<p>My Dell XPS 15 with WSL2 costs half as much a mac but is equally productive and attractive - the only thing I miss is the force multi gesture touchpad from Apple! But hey, Win10 has the AoE üòÅ. In WSL2, I have been doing Java development, running docker containers, angular development etc. It also works great for most of the shell scripts - but occassionally there will be some glitches for which you will have to spent time googling. Following outlines my setup.</p>
<h1 id="set-it-up">Set it Up!</h1>
<h2 id="install-wsl2">Install WSL2</h2>
<p>MS already has their docs up for doing this over <a href="https://docs.microsoft.com/en-us/windows/wsl/wsl2-install">here</a>. Follow the same.</p>
<p>Install WSL2 (its the faster superior version than the previous WSL). Choose an OS you like. I went with Ubuntu.</p>
<h2 id="install-some-helpers">Install Some Helpers</h2>
<h3 id="windows-terminal">Windows Terminal</h3>
<p>Windows Terminal is a new terminal emulator from MS. Its in preview mode as I write this but still worthwhile to have it. Get it from <a href="https://www.microsoft.com/store/productId/9N0DX20HK701">Windows Store</a></p>
<h3 id="vs-code-remote-development">VS code Remote Development</h3>
<p>VS Code is one of the best editors out there. If you don&rsquo;t have VS Code already, install it. It supports working directly with WSL2. For this enable the extension pack <a href="https://marketplace.visualstudio.com/items?itemName=ms-vscode-remote.vscode-remote-extensionpack">Remote Development</a></p>
<h2 id="gui-support">GUI Support</h2>
<p>For majority applications which doesn&rsquo;t support remote development like VS Code, you can get over it by running the application directly in WSL env and then stream the desktop to the windows side. We will be using the good old X Server for this.</p>
<h3 id="wsl-side-configuration">WSL side configuration</h3>
<p>Add the following in <code>~/.bashrc</code> :</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-bash" data-lang="bash"><span style="color:#75715e"># Enable GUI applications</span>
export DISPLAY<span style="color:#f92672">=</span><span style="color:#66d9ef">$(</span>grep -m <span style="color:#ae81ff">1</span> nameserver /etc/resolv.conf | awk <span style="color:#e6db74">&#39;{print $2}&#39;</span><span style="color:#66d9ef">)</span>:0.0
export LIBGL_ALWAYS_INDIRECT<span style="color:#f92672">=</span><span style="color:#ae81ff">1</span>
</code></pre></div><h3 id="win10-side-configuration">Win10 side configuration</h3>
<h4 id="vcxsrv">VcXsrv</h4>
<ol>
<li>Install <a href="https://sourceforge.net/projects/vcxsrv/">VcXsrv</a></li>
<li>You can create a configuration via the GUI, but I will provide my working configuration for easier setup. Copy following configuration to a new file - <code>config.xlaunch</code> :</li>
</ol>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-xml" data-lang="xml"><span style="color:#75715e">&lt;?xml version=&#34;1.0&#34; encoding=&#34;UTF-8&#34;?&gt;</span>
<span style="color:#f92672">&lt;XLaunch</span> <span style="color:#a6e22e">WindowMode=</span><span style="color:#e6db74">&#34;MultiWindow&#34;</span> <span style="color:#a6e22e">ClientMode=</span><span style="color:#e6db74">&#34;NoClient&#34;</span> <span style="color:#a6e22e">LocalClient=</span><span style="color:#e6db74">&#34;False&#34;</span> <span style="color:#a6e22e">Display=</span><span style="color:#e6db74">&#34;0&#34;</span> <span style="color:#a6e22e">LocalProgram=</span><span style="color:#e6db74">&#34;xcalc&#34;</span> <span style="color:#a6e22e">RemoteProgram=</span><span style="color:#e6db74">&#34;xterm&#34;</span> <span style="color:#a6e22e">RemotePassword=</span><span style="color:#e6db74">&#34;&#34;</span> <span style="color:#a6e22e">PrivateKey=</span><span style="color:#e6db74">&#34;&#34;</span> <span style="color:#a6e22e">RemoteHost=</span><span style="color:#e6db74">&#34;&#34;</span> <span style="color:#a6e22e">RemoteUser=</span><span style="color:#e6db74">&#34;&#34;</span> <span style="color:#a6e22e">XDMCPHost=</span><span style="color:#e6db74">&#34;&#34;</span> <span style="color:#a6e22e">XDMCPBroadcast=</span><span style="color:#e6db74">&#34;False&#34;</span> <span style="color:#a6e22e">XDMCPIndirect=</span><span style="color:#e6db74">&#34;False&#34;</span> <span style="color:#a6e22e">Clipboard=</span><span style="color:#e6db74">&#34;True&#34;</span> <span style="color:#a6e22e">ClipboardPrimary=</span><span style="color:#e6db74">&#34;True&#34;</span> <span style="color:#a6e22e">ExtraParams=</span><span style="color:#e6db74">&#34;&#34;</span> <span style="color:#a6e22e">Wgl=</span><span style="color:#e6db74">&#34;True&#34;</span> <span style="color:#a6e22e">DisableAC=</span><span style="color:#e6db74">&#34;True&#34;</span> <span style="color:#a6e22e">XDMCPTerminate=</span><span style="color:#e6db74">&#34;False&#34;</span><span style="color:#f92672">/&gt;</span>
</code></pre></div><ol start="3">
<li>Open <code>config.xlaunch</code> and let it run in the background. Try running a GUI application from WSL and it should show up in the Win 10.</li>
<li>Troubleshooting: Firewall might interfere with X Server. So disable it if you face any issue.</li>
</ol>
<h4 id="run-vcxsrv-automatically">Run VcXsrv automatically</h4>
<p>Remembering to run VcXsrv beforehand is an easy thing to forget. So we will automate it to start automatically on Win10 startup.</p>
<ol>
<li>Open <code>Task Scheduler</code> from Start menu.</li>
<li>Create a new Task from the menu on the right <code>Create Task</code> wih task name <code>LaunchVcXsrv</code></li>
<li><code>Triggers</code> - add a new Trigger - <code>At log on</code> of <code>Specific user</code> (select current user) with status <code>Enabled</code></li>
<li><code>Actions</code> - add a new action - <code>Start a program</code> and provide the path of the <code>config.xlaunch</code> in <code>Program/script</code> to execute</li>
<li><code>Conditions</code> - uncheck all boxes</li>
</ol>
<p>Following is the Task setting which I have configured (I have replaced some IDs with <code>...</code>). Compare your setting with this if you are facing any issue.</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-xml" data-lang="xml"><span style="color:#75715e">&lt;?xml version=&#34;1.0&#34; encoding=&#34;UTF-16&#34;?&gt;</span>
<span style="color:#f92672">&lt;Task</span> <span style="color:#a6e22e">version=</span><span style="color:#e6db74">&#34;1.2&#34;</span> <span style="color:#a6e22e">xmlns=</span><span style="color:#e6db74">&#34;http://schemas.microsoft.com/windows/2004/02/mit/task&#34;</span><span style="color:#f92672">&gt;</span>
  <span style="color:#f92672">&lt;RegistrationInfo&gt;</span>
    <span style="color:#f92672">&lt;Date&gt;</span>...<span style="color:#f92672">&lt;/Date&gt;</span>
    <span style="color:#f92672">&lt;Author&gt;</span>...<span style="color:#f92672">&lt;/Author&gt;</span>
    <span style="color:#f92672">&lt;Description&gt;</span>Launch VcXsrv on startup<span style="color:#f92672">&lt;/Description&gt;</span>
    <span style="color:#f92672">&lt;URI&gt;</span>\LaunchVcXsrv<span style="color:#f92672">&lt;/URI&gt;</span>
  <span style="color:#f92672">&lt;/RegistrationInfo&gt;</span>
  <span style="color:#f92672">&lt;Triggers&gt;</span>
    <span style="color:#f92672">&lt;LogonTrigger&gt;</span>
      <span style="color:#f92672">&lt;Enabled&gt;</span>true<span style="color:#f92672">&lt;/Enabled&gt;</span>
      <span style="color:#f92672">&lt;UserId&gt;</span>...<span style="color:#f92672">&lt;/UserId&gt;</span>
    <span style="color:#f92672">&lt;/LogonTrigger&gt;</span>
  <span style="color:#f92672">&lt;/Triggers&gt;</span>
  <span style="color:#f92672">&lt;Principals&gt;</span>
    <span style="color:#f92672">&lt;Principal</span> <span style="color:#a6e22e">id=</span><span style="color:#e6db74">&#34;Author&#34;</span><span style="color:#f92672">&gt;</span>
      <span style="color:#f92672">&lt;UserId&gt;</span>...<span style="color:#f92672">&lt;/UserId&gt;</span>
      <span style="color:#f92672">&lt;LogonType&gt;</span>InteractiveToken<span style="color:#f92672">&lt;/LogonType&gt;</span>
      <span style="color:#f92672">&lt;RunLevel&gt;</span>LeastPrivilege<span style="color:#f92672">&lt;/RunLevel&gt;</span>
    <span style="color:#f92672">&lt;/Principal&gt;</span>
  <span style="color:#f92672">&lt;/Principals&gt;</span>
  <span style="color:#f92672">&lt;Settings&gt;</span>
    <span style="color:#f92672">&lt;MultipleInstancesPolicy&gt;</span>IgnoreNew<span style="color:#f92672">&lt;/MultipleInstancesPolicy&gt;</span>
    <span style="color:#f92672">&lt;DisallowStartIfOnBatteries&gt;</span>false<span style="color:#f92672">&lt;/DisallowStartIfOnBatteries&gt;</span>
    <span style="color:#f92672">&lt;StopIfGoingOnBatteries&gt;</span>true<span style="color:#f92672">&lt;/StopIfGoingOnBatteries&gt;</span>
    <span style="color:#f92672">&lt;AllowHardTerminate&gt;</span>true<span style="color:#f92672">&lt;/AllowHardTerminate&gt;</span>
    <span style="color:#f92672">&lt;StartWhenAvailable&gt;</span>false<span style="color:#f92672">&lt;/StartWhenAvailable&gt;</span>
    <span style="color:#f92672">&lt;RunOnlyIfNetworkAvailable&gt;</span>false<span style="color:#f92672">&lt;/RunOnlyIfNetworkAvailable&gt;</span>
    <span style="color:#f92672">&lt;IdleSettings&gt;</span>
      <span style="color:#f92672">&lt;StopOnIdleEnd&gt;</span>true<span style="color:#f92672">&lt;/StopOnIdleEnd&gt;</span>
      <span style="color:#f92672">&lt;RestartOnIdle&gt;</span>false<span style="color:#f92672">&lt;/RestartOnIdle&gt;</span>
    <span style="color:#f92672">&lt;/IdleSettings&gt;</span>
    <span style="color:#f92672">&lt;AllowStartOnDemand&gt;</span>true<span style="color:#f92672">&lt;/AllowStartOnDemand&gt;</span>
    <span style="color:#f92672">&lt;Enabled&gt;</span>true<span style="color:#f92672">&lt;/Enabled&gt;</span>
    <span style="color:#f92672">&lt;Hidden&gt;</span>false<span style="color:#f92672">&lt;/Hidden&gt;</span>
    <span style="color:#f92672">&lt;RunOnlyIfIdle&gt;</span>false<span style="color:#f92672">&lt;/RunOnlyIfIdle&gt;</span>
    <span style="color:#f92672">&lt;WakeToRun&gt;</span>false<span style="color:#f92672">&lt;/WakeToRun&gt;</span>
    <span style="color:#f92672">&lt;ExecutionTimeLimit&gt;</span>PT72H<span style="color:#f92672">&lt;/ExecutionTimeLimit&gt;</span>
    <span style="color:#f92672">&lt;Priority&gt;</span>7<span style="color:#f92672">&lt;/Priority&gt;</span>
  <span style="color:#f92672">&lt;/Settings&gt;</span>
  <span style="color:#f92672">&lt;Actions</span> <span style="color:#a6e22e">Context=</span><span style="color:#e6db74">&#34;Author&#34;</span><span style="color:#f92672">&gt;</span>
    <span style="color:#f92672">&lt;Exec&gt;</span>
      <span style="color:#f92672">&lt;Command&gt;</span>C:\path\to\config.xlaunch<span style="color:#f92672">&lt;/Command&gt;</span>
    <span style="color:#f92672">&lt;/Exec&gt;</span>
  <span style="color:#f92672">&lt;/Actions&gt;</span>
<span style="color:#f92672">&lt;/Task&gt;</span>
</code></pre></div><h2 id="wsl---install-programs">WSL - Install programs</h2>
<p>Install all necessary programs/libraries/IDEs and you are good to go. I installed Intellij IDEA in WSL and once I run it from <code>idea.sh</code> it will open up in my Win10 given I have my VcXsrv running.</p>
<h2 id="handy-commands">Handy commands</h2>
<ul>
<li>Open current folder in Explorer: <code>explorer.exe .</code></li>
<li>Open current folder in VS Code: <code>code .</code></li>
</ul>

            </div>
        </article>

        <hr />

        <div class="post-info">
  				<p>
  					<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-tag meta-icon"><path d="M20.59 13.41l-7.17 7.17a2 2 0 0 1-2.83 0L2 12V2h10l8.59 8.59a2 2 0 0 1 0 2.82z"></path><line x1="7" y1="7" x2="7" y2="7"></line></svg><span class="tag"><a href="https://sinujohn.github.io/tags/windows">windows</a></span><span class="tag"><a href="https://sinujohn.github.io/tags/wsl">wsl</a></span><span class="tag"><a href="https://sinujohn.github.io/tags/developer">developer</a></span>
  				</p>
  		</div>
    </main>

            </div>

            
                <footer class="footer">
    <div class="footer__inner">
        <div class="footer__content">
            <span>&copy; 2020</span>
            
                <span><a href="https://sinujohn.github.io/">Sinu John</a></span>
            
            <span><a href="https://creativecommons.org/licenses/by-sa/4.0/" target="_blank" rel="noopener">CC BY-SA 4.0</a></span>
            <span> <a href="https://sinujohn.github.io/posts/index.xml" target="_blank" title="rss"><svg xmlns="http://www.w3.org/2000/svg" width="18" height="18" viewBox="0 0 20 20" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-rss"><path d="M4 11a9 9 0 0 1 9 9"></path><path d="M4 4a16 16 0 0 1 16 16"></path><circle cx="5" cy="19" r="1"></circle></svg></a></span>
        </div>
    </div>
    <div class="footer__inner">
        <div class="footer__content">
            <span>Powered by <a href="http://gohugo.io">Hugo</a></span>
            <span>Made with &#10084; by <a href="https://github.com/rhazdon">Djordje Atlialp</a></span>
        </div>
    </div>
</footer>

            
        </div>

        




<script type="text/javascript" src="/bundle.min.4a69500057d68129e88f497d354afe68422eb56de6d15e45dbe2190858ea5a76bfcb096406f992984b241db45f47388ac57ab0376e3b32125bef7a8a6d0f06c4.js" integrity="sha512-SmlQAFfWgSnoj0l9NUr&#43;aEIutW3m0V5F2&#43;IZCFjqWna/ywlkBvmSmEskHbRfRziKxXqwN247MhJb73qKbQ8GxA=="></script>
    
<script type="application/javascript">
var doNotTrack = false;
if (!doNotTrack) {
	(function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
	(i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
	m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
	})(window,document,'script','https://www.google-analytics.com/analytics.js','ga');
	ga('create', 'UA-96151225-1', 'auto');
	
	ga('send', 'pageview');
}
</script>




    </body>
</html>
