<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="UTF-8">
<meta http-equiv="X-UA-Compatible" content="ie=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<meta name="author" content="sinujohn">
<meta name="description" content="I had figured out how to authenticate users using Facebook a couple of months back. But I didn&amp;rsquo;t document it, and so yesterday I again wasted my time figuring it out. So here is the brain dumb so that I won&amp;rsquo;t waste my time again at the time of need. :)
Prerequisite: Create an app using Facebook Developer account and create the necessary App ID and App Secret keys.
If you are testing out your app and you are running it locally, the site URL should be something like http://localhost:8090/ At the client side: Asking for permission and login:  Use the SDK provided by facebook I am assuming Javascript SDK is used." />
<meta name="keywords" content=", facebook, authentication" />
<meta name="robots" content="noodp" />
<meta name="theme-color" content="" />
<link rel="canonical" href="https://sinujohn.github.io/2015/03/12/authenticating-using-facebook/" />


    <title>
        
            Authenticating using Facebook :: Sinu John  — Cogito, ergo sum
        
    </title>



<link href="https://cdnjs.cloudflare.com/ajax/libs/flag-icon-css/3.2.1/css/flag-icon.min.css" rel="stylesheet"
    type="text/css">



<link rel="stylesheet" href="/main.min.84ed5579024525d4b50458514d1a43e40dd5272df45c7cd6da85b225af457154.css">




    <link rel="apple-touch-icon" sizes="180x180" href="/apple-touch-icon.png">
    <link rel="icon" type="image/png" sizes="32x32" href="/favicon-32x32.png">
    <link rel="icon" type="image/png" sizes="16x16" href="/favicon-16x16.png">
    <link rel="manifest" href="/site.webmanifest">
    <link rel="mask-icon" href="/safari-pinned-tab.svg" color="#252627">
    <link rel="shortcut icon" href="/favicon.ico">
    <meta name="msapplication-TileColor" content="#252627">
    <meta name="theme-color" content="#252627">

<meta itemprop="name" content="Authenticating using Facebook">
<meta itemprop="description" content="I had figured out how to authenticate users using Facebook a couple of months back. But I didn&rsquo;t document it, and so yesterday I again wasted my time figuring it out. So here is the brain dumb so that I won&rsquo;t waste my time again at the time of need. :)
Prerequisite: Create an app using Facebook Developer account and create the necessary App ID and App Secret keys.
If you are testing out your app and you are running it locally, the site URL should be something like http://localhost:8090/ At the client side: Asking for permission and login:  Use the SDK provided by facebook I am assuming Javascript SDK is used.">


<meta itemprop="datePublished" content="2015-03-12T00:00:00&#43;00:00" />
<meta itemprop="dateModified" content="2015-03-12T00:00:00&#43;00:00" />
<meta itemprop="wordCount" content="277">



<meta itemprop="keywords" content="facebook,authentication," />
<meta property="og:title" content="Authenticating using Facebook" />
<meta property="og:description" content="I had figured out how to authenticate users using Facebook a couple of months back. But I didn&rsquo;t document it, and so yesterday I again wasted my time figuring it out. So here is the brain dumb so that I won&rsquo;t waste my time again at the time of need. :)
Prerequisite: Create an app using Facebook Developer account and create the necessary App ID and App Secret keys.
If you are testing out your app and you are running it locally, the site URL should be something like http://localhost:8090/ At the client side: Asking for permission and login:  Use the SDK provided by facebook I am assuming Javascript SDK is used." />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://sinujohn.github.io/2015/03/12/authenticating-using-facebook/" />

<meta property="og:image" content="https://sinujohn.github.io/" />
<meta property="article:published_time" content="2015-03-12T00:00:00+00:00" />
<meta property="article:modified_time" content="2015-03-12T00:00:00+00:00" /><meta property="og:site_name" content="Sinu John" />
<meta name="twitter:card" content="summary_large_image"/>
<meta name="twitter:image" content="https://sinujohn.github.io/"/>

<meta name="twitter:title" content="Authenticating using Facebook"/>
<meta name="twitter:description" content="I had figured out how to authenticate users using Facebook a couple of months back. But I didn&rsquo;t document it, and so yesterday I again wasted my time figuring it out. So here is the brain dumb so that I won&rsquo;t waste my time again at the time of need. :)
Prerequisite: Create an app using Facebook Developer account and create the necessary App ID and App Secret keys.
If you are testing out your app and you are running it locally, the site URL should be something like http://localhost:8090/ At the client side: Asking for permission and login:  Use the SDK provided by facebook I am assuming Javascript SDK is used."/>



    <meta property="article:section" content="Tuts" />



    <meta property="article:published_time" content="2015-03-12 00:00:00 &#43;0000 UTC" />








    </head>

    <body class="dark-theme">
        <div class="container">
            <header class="header">
    <span class="header__inner">
        <a href="/" style="text-decoration: none;">
    <div class="logo">
        
            <span class="logo__mark">></span>
            <span class="logo__text">$ cd /home/</span>
            <span class="logo__cursor" style=
                  "
                   
                   ">
            </span>
        
    </div>
</a>


        <span class="header__right">
            
                <nav class="menu">
    <ul class="menu__inner"><li><a href="https://sinujohn.github.io/post/">Posts</a></li>
    </ul>
</nav>

                <span class="menu-trigger">
                    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24">
                        <path d="M0 0h24v24H0z" fill="none"/>
                        <path d="M3 18h18v-2H3v2zm0-5h18v-2H3v2zm0-7v2h18V6H3z"/>
                    </svg>
                </span>
            

            <span class="theme-toggle unselectable"><svg class="theme-toggler" width="24" height="24" viewBox="0 0 48 48" fill="none" xmlns="http://www.w3.org/2000/svg">
  <path d="M22 41C32.4934 41 41 32.4934 41 22C41 11.5066 32.4934 3 22
  3C11.5066 3 3 11.5066 3 22C3 32.4934 11.5066 41 22 41ZM7 22C7
  13.7157 13.7157 7 22 7V37C13.7157 37 7 30.2843 7 22Z"/>
</svg>
</span>
        </span>
    </span>
</header>


            <div class="content">
                
    <main class="post">

        <div class="post-info">
            
            </p>
        </div>

        <article>
            <h2 class="post-title"><a href="https://sinujohn.github.io/2015/03/12/authenticating-using-facebook/">Authenticating using Facebook</a></h2>

            

            <div class="post-content">
                <p>I had figured out how to authenticate users using Facebook a couple of months back. But I didn&rsquo;t document it, and so yesterday I again wasted my time figuring it out. So here is the brain dumb so that I won&rsquo;t waste my time again at the time of need. :)</p>

<p>Prerequisite: <a href="https://developers.facebook.com/apps/" target="_blank">Create an app</a> using Facebook Developer account and create the necessary App ID and App Secret keys.</p>

<p>If you are testing out your app and you are running it locally, the site URL should be something like <a href="http://localhost:8090/">http://localhost:8090/</a>
<h3>At the client side:</h3>
<strong>Asking for permission and login:</strong>
<ul>
    <li>Use the SDK provided by facebook</li>
    <li>I am assuming Javascript SDK is used. Inspect the response returned.
<ul>
    <li>Send the <strong>authResponse.accessToken</strong> and <strong>authResponse.userID</strong> to the server for authentication.</li>
</ul>
</li>
</ul>
<h3>
At the server side:</h3>
<strong>Authentication:</strong>
<ul>
    <li>Verify the user by calling the Facebook Graph API:</li>
</ul>
<p style="padding-left:60px;"><strong><a href="https://graph.facebook.com/debug_token?input_token={authResponse.accessToken}&amp;access_token={app_id|app_secret">https://graph.facebook.com/debug_token?input_token={authResponse.accessToken}&amp;access_token={app_id|app_secret</a>}</strong></p>
<p style="padding-left:60px;"><strong>Response</strong>:</p></p>

<pre><code>{
    &quot;data&quot;: {
        &quot;app_id&quot;: &quot;1234&quot;,
        &quot;application&quot;: &quot;testapp&quot;,
        &quot;expires_at&quot;: 1426158000,
        &quot;is_valid&quot;: true,
        &quot;scopes&quot;: [
                &quot;public_profile&quot;,
                &quot;email&quot;
                ],
        &quot;user_id&quot;: &quot;111112223333&quot;
     }
}
</code></pre>

<p><ul>
    <li><strong> input_token</strong> is the <strong>authResponse.accessToken</strong> we obtained as a result of the login process from Facebook.
<strong>access_token</strong> is the <a href="https://developers.facebook.com/docs/facebook-login/access-tokens/#apptokens" target="_blank"><strong>App Token</strong></a>. It can either be generated as mentioned in <a href="https://developers.facebook.com/docs/facebook-login/access-tokens/#apptokens" target="_blank">this link</a>. Or instead of generating we can use the concatenated form: <strong>{app_id}</strong> + <strong>&rsquo;|&rsquo;</strong> + <strong>{app_secret}</strong>. I have used this second form above.</li>
    <li>Verify the JSON obtained and check whether <strong>&ldquo;is_valid&rdquo; == True</strong> and <strong>&ldquo;user_id&rdquo; == authResponse.userID</strong> to make sure user is a valid one.</li>
    <li>The <strong>authResponse.userID</strong> returned can be used to identify the user and used instead of username to lookup users.</li>
</ul>
<strong>Using the Graph API:</strong>
<p style="padding-left:30px;">Suppose we want to obtain the user&rsquo;s email Id at the server side:
Call the API as follows:
<strong><a href="https://graph.facebook.com/{authResponse.userID}?fields=email&amp;access_token={authResponse.accessToken">https://graph.facebook.com/{authResponse.userID}?fields=email&amp;access_token={authResponse.accessToken</a>}</strong></p></p>

            </div>
        </article>

        <hr />

        <div class="post-info">
  				<p>
  					<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-tag meta-icon"><path d="M20.59 13.41l-7.17 7.17a2 2 0 0 1-2.83 0L2 12V2h10l8.59 8.59a2 2 0 0 1 0 2.82z"></path><line x1="7" y1="7" x2="7" y2="7"></line></svg><span class="tag"><a href="https://sinujohn.github.io/tags/facebook">facebook</a></span><span class="tag"><a href="https://sinujohn.github.io/tags/authentication">authentication</a></span>
  				</p>
  		</div>
    </main>

            </div>

            
                <footer class="footer">
    <div class="footer__inner">
        <div class="footer__content">
            <span>&copy; 2020</span>
            
                <span><a href="https://sinujohn.github.io/">Sinu John</a></span>
            
            <span><a href="https://creativecommons.org/licenses/by-sa/4.0/" target="_blank" rel="noopener">CC BY-SA 4.0</a></span>
            <span> <a href="https://sinujohn.github.io/posts/index.xml" target="_blank" title="rss"><svg xmlns="http://www.w3.org/2000/svg" width="18" height="18" viewBox="0 0 20 20" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-rss"><path d="M4 11a9 9 0 0 1 9 9"></path><path d="M4 4a16 16 0 0 1 16 16"></path><circle cx="5" cy="19" r="1"></circle></svg></a></span>
        </div>
    </div>
    <div class="footer__inner">
        <div class="footer__content">
            <span>Powered by <a href="http://gohugo.io">Hugo</a></span>
            <span>Made with &#10084; by <a href="https://github.com/rhazdon">Djordje Atlialp</a></span>
        </div>
    </div>
</footer>

            
        </div>

        




<script type="text/javascript" src="/bundle.min.2d5469329143160ae2456a69c3c76dc2d0a3b212b46afe291a51bd68650ed6f8697e001dab54f1c272c77ce08092a8c55e5bb4314e0ee334aab4b927ec896638.js" integrity="sha512-LVRpMpFDFgriRWppw8dtwtCjshK0av4pGlG9aGUO1vhpfgAdq1TxwnLHfOCAkqjFXlu0MU4O4zSqtLkn7IlmOA=="></script>
    <script>
        (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
        (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
        m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
        })(window,document,'script','//www.google-analytics.com/analytics.js','ga');
        ga('create', 'UA-96151225-1', 'auto');
        ga('send', 'pageview');
    </script>



    </body>
</html>
